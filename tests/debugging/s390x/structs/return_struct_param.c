struct dog{
	int name;
	int id;
	int roll;
};

struct dog return_struct(int a, int b){
	a = a+b;
	struct dog d;
	d.id = d.name + 50;
	d.roll = 15;
	return d;
}

void main(){
	struct dog d1;
	d1 = return_struct(1,2);
}

Breakpoint 1, main () at return_struct.c:17
17		d1 = return_struct(1,2);
=> 0x0000000001000570 <main+16>:	ec 1b 00 a4 00 d9	aghik	%r1,%r11,164
   0x0000000001000576 <main+22>:	a7 49 00 02			lghi	%r4,2
   0x000000000100057a <main+26>:	a7 39 00 01			lghi	%r3,1
   0x000000000100057e <main+30>:	b9 04 00 21			lgr		%r2,%r1
   0x0000000001000582 <main+34>:	c0 e5 ff ff ff bb	brasl	%r14,0x10004f8 <return_struct>

------------------------------------------------------------------------------------------------

(gdb) disas
Dump of assembler code for function main:
   0x0000000001000560 <+0>:		stmg	%r11,%r15,88(%r15)
   0x0000000001000566 <+6>:		lay		%r15,-176(%r15)
   0x000000000100056c <+12>:	lgr		%r11,%r15
=> 0x0000000001000570 <+16>:	aghik	%r1,%r11,164
   0x0000000001000576 <+22>:	lghi	%r4,2
   0x000000000100057a <+26>:	lghi	%r3,1
   0x000000000100057e <+30>:	lgr		%r2,%r1
   0x0000000001000582 <+34>:	brasl	%r14,0x10004f8 <return_struct>
   0x0000000001000588 <+40>:	nopr
   0x000000000100058a <+42>:	lmg		%r11,%r15,264(%r11)
   0x0000000001000590 <+48>:	br		%r14
End of assembler dump.
------------------------------------------------------------------------------------------------

(gdb) si
0x0000000001000576	17		d1 = return_struct(1,2);
   0x0000000001000570 <main+16>:	ec 1b 00 a4 00 d9	aghik	%r1,%r11,164
=> 0x0000000001000576 <main+22>:	a7 49 00 02			lghi	%r4,2
   0x000000000100057a <main+26>:	a7 39 00 01			lghi	%r3,1
   0x000000000100057e <main+30>:	b9 04 00 21			lgr		%r2,%r1
   0x0000000001000582 <main+34>:	c0 e5 ff ff ff bb	brasl	%r14,0x10004f8 <return_struct>
------------------------------------------------------------------------------------------------

(gdb) si
0x000000000100057a	17		d1 = return_struct(1,2);
   0x0000000001000570 <main+16>:	ec 1b 00 a4 00 d9	aghik	%r1,%r11,164
   0x0000000001000576 <main+22>:	a7 49 00 02			lghi	%r4,2
=> 0x000000000100057a <main+26>:	a7 39 00 01			lghi	%r3,1
   0x000000000100057e <main+30>:	b9 04 00 21			lgr		%r2,%r1
   0x0000000001000582 <main+34>:	c0 e5 ff ff ff bb	brasl	%r14,0x10004f8 <return_struct>
------------------------------------------------------------------------------------------------

(gdb) si
0x000000000100057e	17		d1 = return_struct(1,2);
   0x0000000001000570 <main+16>:	ec 1b 00 a4 00 d9	aghik	%r1,%r11,164
   0x0000000001000576 <main+22>:	a7 49 00 02			lghi	%r4,2
   0x000000000100057a <main+26>:	a7 39 00 01			lghi	%r3,1
=> 0x000000000100057e <main+30>:	b9 04 00 21			lgr		%r2,%r1
   0x0000000001000582 <main+34>:	c0 e5 ff ff ff bb	brasl	%r14,0x10004f8 <return_struct>
------------------------------------------------------------------------------------------------

(gdb) si
0x0000000001000582	17		d1 = return_struct(1,2);
   0x0000000001000570 <main+16>:	ec 1b 00 a4 00 d9	aghik	%r1,%r11,164
   0x0000000001000576 <main+22>:	a7 49 00 02			lghi	%r4,2
   0x000000000100057a <main+26>:	a7 39 00 01			lghi	%r3,1
   0x000000000100057e <main+30>:	b9 04 00 21			lgr		%r2,%r1
=> 0x0000000001000582 <main+34>:	c0 e5 ff ff ff bb	brasl	%r14,0x10004f8 <return_struct>
------------------------------------------------------------------------------------------------

(gdb) si
return_struct (a=-33566912, b=1023) at return_struct.c:7
7	struct dog return_struct(int a, int b){
=> 0x00000000010004f8 <return_struct+0>:	b3 c1 00 2b			ldgr	%f2,%r11
   0x00000000010004fc <return_struct+4>:	b3 c1 00 0f			ldgr	%f0,%r15
   0x0000000001000500 <return_struct+8>:	e3 f0 ff 40 ff 71	lay		%r15,-192(%r15)
   0x0000000001000506 <return_struct+14>:	b9 04 00 bf			lgr		%r11,%r15
   0x000000000100050a <return_struct+18>:	e3 20 b0 a8 00 24	stg		%r2,168(%r11)
   0x0000000001000510 <return_struct+24>:	b9 04 00 13			lgr		%r1,%r3
   0x0000000001000514 <return_struct+28>:	b9 04 00 24			lgr		%r2,%r4
   0x0000000001000518 <return_struct+32>:	50 10 b0 a4			st		%r1,164(%r11)
   0x000000000100051c <return_struct+36>:	18 12				lr		%r1,%r2
   0x000000000100051e <return_struct+38>:	50 10 b0 a0			st		%r1,160(%r11)
------------------------------------------------------------------------------------------------

(gdb) disas
Dump of assembler code for function return_struct:
=> 0x00000000010004f8 <+0>:		ldgr	%f2,%r11
   0x00000000010004fc <+4>:		ldgr	%f0,%r15
   0x0000000001000500 <+8>:		lay		%r15,-192(%r15)
   0x0000000001000506 <+14>:	lgr		%r11,%r15
   0x000000000100050a <+18>:	stg		%r2,168(%r11)
   0x0000000001000510 <+24>:	lgr		%r1,%r3
   0x0000000001000514 <+28>:	lgr		%r2,%r4
   0x0000000001000518 <+32>:	st		%r1,164(%r11)
   0x000000000100051c <+36>:	lr		%r1,%r2
   0x000000000100051e <+38>:	st		%r1,160(%r11)
   0x0000000001000522 <+42>:	l		%r1,164(%r11)
   0x0000000001000526 <+46>:	a		%r1,160(%r11)
   0x000000000100052a <+50>:	st		%r1,164(%r11)
   0x000000000100052e <+54>:	l		%r1,180(%r11)
   0x0000000001000532 <+58>:	ahi		%r1,50
   0x0000000001000536 <+62>:	st		%r1,184(%r11)
   0x000000000100053a <+66>:	mvhi	188(%r11),15
   0x0000000001000540 <+72>:	lg		%r1,168(%r11)
   0x0000000001000546 <+78>:	mvc		0(12,%r1),180(%r11)
   0x000000000100054c <+84>:	lg		%r2,168(%r11)
   0x0000000001000552 <+90>:	lgdr	%r11,%f2
   0x0000000001000556 <+94>:	lgdr	%r15,%f0
   0x000000000100055a <+98>:	br		%r14
End of assembler dump.
------------------------------------------------------------------------------------------------

(gdb) si
0x00000000010004fc	7	struct dog return_struct(int a, int b){
   0x00000000010004f8 <return_struct+0>:	b3 c1 00 2b			ldgr	%f2,%r11
=> 0x00000000010004fc <return_struct+4>:	b3 c1 00 0f			ldgr	%f0,%r15
   0x0000000001000500 <return_struct+8>:	e3 f0 ff 40 ff 71	lay		%r15,-192(%r15)
   0x0000000001000506 <return_struct+14>:	b9 04 00 bf			lgr		%r11,%r15
   0x000000000100050a <return_struct+18>:	e3 20 b0 a8 00 24	stg		%r2,168(%r11)
   0x0000000001000510 <return_struct+24>:	b9 04 00 13			lgr		%r1,%r3
   0x0000000001000514 <return_struct+28>:	b9 04 00 24			lgr		%r2,%r4
   0x0000000001000518 <return_struct+32>:	50 10 b0 a4			st		%r1,164(%r11)
   0x000000000100051c <return_struct+36>:	18 12				lr		%r1,%r2
   0x000000000100051e <return_struct+38>:	50 10 b0 a0			st		%r1,160(%r11)
------------------------------------------------------------------------------------------------

(gdb) 
0x0000000001000500	7	struct dog return_struct(int a, int b){
   0x00000000010004f8 <return_struct+0>:	b3 c1 00 2b			ldgr	%f2,%r11
   0x00000000010004fc <return_struct+4>:	b3 c1 00 0f			ldgr	%f0,%r15
=> 0x0000000001000500 <return_struct+8>:	e3 f0 ff 40 ff 71	lay		%r15,-192(%r15)
   0x0000000001000506 <return_struct+14>:	b9 04 00 bf			lgr		%r11,%r15
   0x000000000100050a <return_struct+18>:	e3 20 b0 a8 00 24	stg		%r2,168(%r11)
   0x0000000001000510 <return_struct+24>:	b9 04 00 13			lgr		%r1,%r3
   0x0000000001000514 <return_struct+28>:	b9 04 00 24			lgr		%r2,%r4
   0x0000000001000518 <return_struct+32>:	50 10 b0 a4			st		%r1,164(%r11)
   0x000000000100051c <return_struct+36>:	18 12				lr		%r1,%r2
   0x000000000100051e <return_struct+38>:	50 10 b0 a0			st		%r1,160(%r11)
------------------------------------------------------------------------------------------------

(gdb) 
0x0000000001000506	7	struct dog return_struct(int a, int b){
   0x00000000010004f8 <return_struct+0>:	b3 c1 00 2b			ldgr	%f2,%r11
   0x00000000010004fc <return_struct+4>:	b3 c1 00 0f			ldgr	%f0,%r15
   0x0000000001000500 <return_struct+8>:	e3 f0 ff 40 ff 71	lay		%r15,-192(%r15)
=> 0x0000000001000506 <return_struct+14>:	b9 04 00 bf			lgr		%r11,%r15
   0x000000000100050a <return_struct+18>:	e3 20 b0 a8 00 24	stg		%r2,168(%r11)
   0x0000000001000510 <return_struct+24>:	b9 04 00 13			lgr		%r1,%r3
   0x0000000001000514 <return_struct+28>:	b9 04 00 24			lgr		%r2,%r4
   0x0000000001000518 <return_struct+32>:	50 10 b0 a4			st		%r1,164(%r11)
   0x000000000100051c <return_struct+36>:	18 12				lr		%r1,%r2
   0x000000000100051e <return_struct+38>:	50 10 b0 a0			st		%r1,160(%r11)
------------------------------------------------------------------------------------------------

(gdb) 
0x000000000100050a	7	struct dog return_struct(int a, int b){
   0x00000000010004f8 <return_struct+0>:	b3 c1 00 2b			ldgr	%f2,%r11
   0x00000000010004fc <return_struct+4>:	b3 c1 00 0f			ldgr	%f0,%r15
   0x0000000001000500 <return_struct+8>:	e3 f0 ff 40 ff 71	lay		%r15,-192(%r15)
   0x0000000001000506 <return_struct+14>:	b9 04 00 bf			lgr		%r11,%r15
=> 0x000000000100050a <return_struct+18>:	e3 20 b0 a8 00 24	stg		%r2,168(%r11)
   0x0000000001000510 <return_struct+24>:	b9 04 00 13			lgr		%r1,%r3
   0x0000000001000514 <return_struct+28>:	b9 04 00 24			lgr		%r2,%r4
   0x0000000001000518 <return_struct+32>:	50 10 b0 a4			st		%r1,164(%r11)
   0x000000000100051c <return_struct+36>:	18 12				lr		%r1,%r2
   0x000000000100051e <return_struct+38>:	50 10 b0 a0			st		%r1,160(%r11)

8		a = a+b;
=> 0x0000000001000522 <return_struct+42>:	58 10 b0 a4			l	%r1,164(%r11)
   0x0000000001000526 <return_struct+46>:	5a 10 b0 a0			a	%r1,160(%r11)
   0x000000000100052a <return_struct+50>:	50 10 b0 a4			st	%r1,164(%r11)

 
10		d.id = d.name + 50;
=> 0x000000000100052e <return_struct+54>:	58 10 b0 b4	l	%r1,180(%r11)

------------------------------------------------------------------------------------------------

(gdb) 
10		d.id = d.name + 50;
=> 0x0000000001000532 <return_struct+58>:	a7 1a 00 32	ahi	%r1,50

------------------------------------------------------------------------------------------------

(gdb) 
10		d.id = d.name + 50;
=> 0x0000000001000536 <return_struct+62>:	50 10 b0 b8	st	%r1,184(%r11)

------------------------------------------------------------------------------------------------

(gdb) 
11		d.roll = 15;
=> 0x000000000100053a <return_struct+66>:	e5 4c b0 bc 00 0f	mvhi	188(%r11),15
------------------------------------------------------------------------------------------------

(gdb) 
12		return d;
=> 0x0000000001000540 <return_struct+72>:	e3 10 b0 a8 00 04	lg	%r1,168(%r11)
   0x0000000001000546 <return_struct+78>:	d2 0b 10 00 b0 b4	mvc	0(12,%r1),180(%r11)
------------------------------------------------------------------------------------------------

(gdb) 
0x0000000001000546	12		return d;
   0x0000000001000540 <return_struct+72>:	e3 10 b0 a8 00 04	lg	%r1,168(%r11)
=> 0x0000000001000546 <return_struct+78>:	d2 0b 10 00 b0 b4	mvc	0(12,%r1),180(%r11)
------------------------------------------------------------------------------------------------

(gdb) 
13	}
=> 0x000000000100054c <return_struct+84>:	e3 20 b0 a8 00 04	lg	%r2,168(%r11)
   0x0000000001000552 <return_struct+90>:	b3 cd 00 b2	lgdr	%r11,%f2
   0x0000000001000556 <return_struct+94>:	b3 cd 00 f0	lgdr	%r15,%f0
   0x000000000100055a <return_struct+98>:	07 fe	br	%r14
   0x000000000100055c:	07 07	nopr	%r7
   0x000000000100055e:	07 07	nopr	%r7

------------------------------------------------------------------------------------------------

(gdb) 
main () at return_struct.c:18
18	}
=> 0x0000000001000588 <main+40>:	07 00	nopr
   0x000000000100058a <main+42>:	eb bf b1 08 00 04	lmg	%r11,%r15,264(%r11)
   0x0000000001000590 <main+48>:	07 fe	br	%r14
------------------------------------------------------------------------------------------------

(gdb) quit
A debugging session is active.

	Inferior 1 [process 2715] will be killed.

Quit anyway? (y or n) y
